(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,n){e.exports=n(34)},34:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),o=n(20),c=n.n(o),i=n(13),s=n.n(i),l=n(16),u=n(5),p=n(6),h=n(8),k=n(7),d=n(9),w=Object(l.a)(s.a.mark(function e(){var t,n,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://api.citybik.es/v2/networks");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,r=n&&n.networks,e.abrupt("return",r||[]);case 9:case"end":return e.stop()}},e)})),m=n(12),b=n(22),f={cursor:"pointer",fill:"#346F8F",stroke:"grey"},v=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(k.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.size,n=void 0===t?20:t,r=e.onClick;return a.a.createElement("svg",{height:n,viewBox:"0 0 24 24",style:Object(b.a)({},f,{transform:"translate(".concat(-n/2,"px,").concat(-n,"px)")}),onClick:r},a.a.createElement("path",{d:"M20.2,15.7L20.2,15.7c1.1-1.6,1.8-3.6,1.8-5.7c0-5.6-4.5-10-10-10S2,4.5,2,10c0,2,0.6,3.9,1.6,5.4c0,0.1,0.1,0.2,0.2,0.3\n  c0,0,0.1,0.1,0.1,0.2c0.2,0.3,0.4,0.6,0.7,0.9c2.6,3.1,7.4,7.6,7.4,7.6s4.8-4.5,7.4-7.5c0.2-0.3,0.5-0.6,0.7-0.9\n  C20.1,15.8,20.2,15.8,20.2,15.7z"}))}}]),t}(r.PureComponent),y=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(k.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.networks,n=e.onMarkerClick;return t?t.map(function(e,t){return a.a.createElement(m.a,{key:"".concat(t),longitude:e.location.longitude,latitude:e.location.latitude},a.a.createElement(v,{size:20,onClick:function(){return n(e)}}))}):null}}]),t}(r.Component),j={width:240,height:160,fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif'},O={borderStyle:"solid",borderColor:"lightGrey",borderWidth:"1px 0 0 0",marginBlockStart:0},g={marginBlockStart:8,marginBlockEnd:8,color:"#666"},C={marginBlockStart:0,marginBlockEnd:0},E=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(k.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.network,n=e.onClose;return t?a.a.createElement(m.b,{tipSize:5,anchor:"top",longitude:t.location.longitude,latitude:t.location.latitude,closeOnClick:!1,onClose:n},a.a.createElement("div",{style:j},a.a.createElement("h2",{style:g},t.name),a.a.createElement("hr",{style:O}),a.a.createElement("div",{style:C},t.location.city),a.a.createElement("div",{style:C},t.location.country))):null}}]),t}(r.PureComponent),x=function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(a)))).state={viewport:{latitude:30.785164,longitude:0,zoom:1,bearing:0,pitch:0}},n._updateViewport=function(e){n.setState({viewport:e})},n._handleClick=function(e){n.setState({network:e})},n._handleNetworkPopupClose=function(){console.log("clicked"),n.setState({network:null})},n}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.token,n=e.networks,r=this.state,o=r.viewport,c=r.network;return a.a.createElement(m.c,Object.assign({},o,{width:"100%",height:"100%",mapStyle:"mapbox://styles/mapbox/light-v9",onViewportChange:this._updateViewport,mapboxApiAccessToken:t}),a.a.createElement(y,{networks:n,onMarkerClick:this._handleClick}),a.a.createElement(E,{network:c,onClose:this._handleNetworkPopupClose}))}}]),t}(r.Component),S=function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(a)))).state={networks:null},n}return Object(d.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this._fetchBikeNetworks()}},{key:"_fetchBikeNetworks",value:function(){var e=Object(l.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:t=e.sent,this.setState({networks:t});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.networks;return a.a.createElement(x,{token:"pk.eyJ1Ijoiam11cnJldHhhY3RseSIsImEiOiJjanNkMnZxOHcwMTEwNDNxZzM5bG1hMHZ2In0.fXNRPQsfUYANL2FaL5qZYw",networks:e})}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[23,1,2]]]);
//# sourceMappingURL=main.658f6a61.chunk.js.map